{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\FinTech\\\\Dev 1\\\\day2\\\\Final_Assignment\\\\src\\\\App.js\";\n\n/* Demo for FinTech@SG Course \nGeneration of Charts Based on JSON data from Server\nAuthor: Prof Bhojan Anand */\n//Install d3.js:   npm install d3 --save\nimport React from \"react\";\nimport logo from \"./brand-logo.png\";\nimport * as d3 from 'd3';\nimport \"./App.css\";\n\nfunction sortTable(n) {\n  var table,\n      rows,\n      switching,\n      i,\n      x,\n      y,\n      shouldSwitch,\n      dir,\n      switchcount = 0;\n  table = document.getElementById(\"myTable\");\n  switching = true; //Set the sorting direction to ascending:\n\n  dir = \"asc\";\n  /*Make a loop that will continue until\n  no switching has been done:*/\n\n  while (switching) {\n    //start by saying: no switching is done:\n    switching = false;\n    rows = table.rows;\n    /*Loop through all table rows (except the\n    first, which contains table headers):*/\n\n    for (i = 1; i < rows.length - 1; i++) {\n      //start by saying there should be no switching:\n      shouldSwitch = false;\n      /*Get the two elements you want to compare,\n      one from current row and one from the next:*/\n\n      x = rows[i].getElementsByTagName(\"TD\")[n];\n      y = rows[i + 1].getElementsByTagName(\"TD\")[n];\n      /*check if the two rows should switch place,\n      based on the direction, asc or desc:*/\n\n      if (dir == \"asc\") {\n        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {\n          //if so, mark as a switch and break the loop:\n          shouldSwitch = true;\n          break;\n        }\n      } else if (dir == \"desc\") {\n        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {\n          //if so, mark as a switch and break the loop:\n          shouldSwitch = true;\n          break;\n        }\n      }\n    }\n\n    if (shouldSwitch) {\n      /*If a switch has been marked, make the switch\n      and mark that a switch has been done:*/\n      rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);\n      switching = true; //Each time a switch is done, increase this count by 1:\n\n      switchcount++;\n    } else {\n      /*If no switching has been done AND the direction is \"asc\",\n      set the direction to \"desc\" and run the while loop again.*/\n      if (switchcount == 0 && dir == \"asc\") {\n        dir = \"desc\";\n        switching = true;\n      }\n    }\n  }\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      accounts: [],\n      customers: [],\n      transactions: [],\n      tcredit: [],\n      tcheque: [],\n      tsavings: [],\n      fcredit: [],\n      fsavings: [],\n      fcheque: []\n    };\n  }\n\n  callAPIServer() {\n    // when component mounted, start a GET request\n    // to specified URL\n    fetch(\"https://f92c6b35-d121-4c8a-987b-81217155297f.mock.pstmn.io/accounts\").then(res => res.text()).then(res => this.setState({\n      accounts: JSON.parse(res)\n    })).catch(err => err);\n    fetch(\"https://f92c6b35-d121-4c8a-987b-81217155297f.mock.pstmn.io/customers\") // when we get a response map the body to json\n    .then(res => res.text()).then(res => this.setState({\n      customers: JSON.parse(res)\n    })).catch(err => err);\n    fetch(\"https://f92c6b35-d121-4c8a-987b-81217155297f.mock.pstmn.io/transactions\") // when we get a response map the body to json\n    .then(res => res.text()).then(res => this.setState({\n      transactions: JSON.parse(res)\n    })).catch(err => err);\n    fetch(\"https://f92c6b35-d121-4c8a-987b-81217155297f.mock.pstmn.io/transactions\") // when we get a response map the body to json\n    .then(res => res.text()).then(res => this.setState({\n      tcredit: JSON.parse(res)\n    })).catch(err => err);\n    fetch(\"https://f92c6b35-d121-4c8a-987b-81217155297f.mock.pstmn.io/transactions\") // when we get a response map the body to json\n    .then(res => res.text()).then(res => this.setState({\n      tcheque: JSON.parse(res)\n    })).catch(err => err);\n    fetch(\"https://f92c6b35-d121-4c8a-987b-81217155297f.mock.pstmn.io/transactions\") // when we get a response map the body to json\n    .then(res => res.text()).then(res => this.setState({\n      tsavings: JSON.parse(res)\n    })).catch(err => err);\n    fetch(\"https://f92c6b35-d121-4c8a-987b-81217155297f.mock.pstmn.io/transactions\") // when we get a response map the body to json\n    .then(res => res.text()).then(res => this.setState({\n      fcredit: JSON.parse(res)\n    })).catch(err => err);\n    fetch(\"https://f92c6b35-d121-4c8a-987b-81217155297f.mock.pstmn.io/transactions\") // when we get a response map the body to json\n    .then(res => res.text()).then(res => this.setState({\n      fcheque: JSON.parse(res)\n    })).catch(err => err);\n    fetch(\"https://f92c6b35-d121-4c8a-987b-81217155297f.mock.pstmn.io/transactions\") // when we get a response map the body to json\n    .then(res => res.text()).then(res => this.setState({\n      fsavings: JSON.parse(res)\n    })).catch(err => err);\n  }\n\n  componentDidMount() {\n    // react lifecycle method componentDidMount()\n    //will execute the callAPIserver() method after the component mounts.\n    this.callAPIServer();\n  }\n\n  componentDidUpdate() {\n    /* prepare data */\n    this.state.accounts.forEach(function (c) {\n      c.balance = c.balance.replace(/[^0-9.-]+/g, \"\"); //regular expression to convert currency to Numeric form\n    });\n    this.state.transactions.forEach(function (b) {\n      b.amount = b.amount.replace(/[^0-9.-]+/g, \"\"); //regular expression to convert currency to Numeric form\n    });\n    this.state.tcredit.forEach(function (b) {\n      b.amount = b.amount.replace(/[^0-9.-]+/g, \"\"); //regular expression to convert currency to Numeric form\n    });\n    this.state.tcheque.forEach(function (b) {\n      b.amount = b.amount.replace(/[^0-9.-]+/g, \"\"); //regular expression to convert currency to Numeric form\n    });\n    this.state.tsavings.forEach(function (b) {\n      b.amount = b.amount.replace(/[^0-9.-]+/g, \"\"); //regular expression to convert currency to Numeric form\n    });\n    this.generateGraph(); //based on previous d3.js exampls\n\n    this.showChart(); //improved version way to chart\n  }\n\n  editcreditlist() {\n    const creditlist = [...this.state.tcredit];\n    const updatedlist = new Array();\n    creditlist.forEach(function (item) {\n      if (item.account == \"credit\") {\n        updatedlist.push(item);\n      }\n    });\n    this.setState({\n      tcredit: updatedlist\n    });\n  }\n\n  newcreditlist() {\n    const creditlist = [...this.state.tcredit];\n    const updatedlist = [{\n      account: \"credit\",\n      clothing: \"0\",\n      utilities: \"0\",\n      recreation: \"0\",\n      groceries: \"0\",\n      salary: \"0\",\n      housing: \"0\",\n      insurance: \"0\"\n    }];\n    creditlist.forEach(function (item) {\n      if (item.account == \"credit\") {\n        updatedlist.push(item);\n      }\n    });\n    this.setState({\n      fcredit: updatedlist\n    });\n\n    for (var i = 0; i < tcredit.length; i++) {\n      var num = Number(tfinal[1].tcredit[i][2]) + Number(tcredit[i][3]);\n    }\n  }\n\n  editsavingslist() {\n    const creditlist = [...this.state.tsavings];\n    const updatedlist = new Array();\n    creditlist.forEach(function (item) {\n      if (item.account == \"savings\") {\n        updatedlist.push(item);\n      }\n    });\n    this.setState({\n      tsavings: updatedlist\n    });\n  }\n\n  editchequelist() {\n    const creditlist = [...this.state.tcheque];\n    const updatedlist = new Array();\n    creditlist.forEach(function (item) {\n      if (item.account == \"cheque\") {\n        updatedlist.push(item);\n      }\n    });\n    this.setState({\n      tcheque: updatedlist\n    });\n  }\n\n  tabling() {\n    var tcredit = [];\n    var count = 0;\n    this.state.transactions.forEach(function (a) {\n      if (a.account == \"credit\") {\n        tcredit[count] = new Array(a.timestamp, a.category, a.account, a.amount);\n        count++;\n      }\n    });\n    console.log(tcredit);\n    var tsavings = [];\n    var count = 0;\n    this.state.transactions.forEach(function (a) {\n      if (a.account == \"savings\") {\n        tsavings[count] = new Array(a.timestamp, a.category, a.account, a.amount);\n        count++;\n      }\n    });\n    console.log(tsavings);\n    var tcheque = [];\n    var count = 0;\n    this.state.transactions.forEach(function (a) {\n      if (a.account == \"cheque\") {\n        tcheque[count] = new Array(a.timestamp, a.category, a.account, a.amount);\n        count++;\n      }\n    });\n    console.log(tcheque);\n    /*\n      console.log(\"HIHIHIHIHIHIHIH\");\n      console.log(this.state.final);\n    \n      //let a = this.state.final.concat({account: \"credit\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"});\n      //a.push({account: \"credit\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"},{account: \"cheque\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"}, {account: \"savings\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"}); \n      this.setState({final: [...this.state.final, ...[1,2,3]]});\n    \n      //this.state.final.push({account: \"credit\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"},{account: \"cheque\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"}, {account: \"savings\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"});\n      \n      console.log(\"BYEBYEBYEBYEYBEYBEYBY\");\n      console.log(this.state.final);\n    */\n\n    /*\n      var x = this.state.tcredit[0][3];\n      console.log(\"this is amount spent on housing\" + x);\n    \n      \n      var tfinal = [{account: \"cheque\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"}, {account: \"credit\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"}, {account: \"savings\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"}];\n      \n      var a = tcredit[0][3];\n      console.log(a);\n        //console.log(tcredit[0][3]);\n      console.log(Number(tfinal[1].tcredit[0][2]));\n      \n      for(var i=0; i<tcredit.length ;i++){\n        var num = \n        Number(tfinal[1].tcredit[i][2]) \n        + Number(tcredit[i][3]);\n        tfinal[1].tcredit[i][2] = num.toString();\n      }\n      for(var i=0; i<tcheque.length ;i++){\n        var num = Number(tfinal[0].tcheque[i][2]) + tcheque[i][3];\n        tfinal[0].tcheque[i][2] = num.toString();\n      }\n      for(var i=0; i<tsavings.length ;i++){\n        var num = Number(tfinal[2].tsavings[i][2]) + tsavings[i][3];\n        tfinal[2].tsavings[i][2] = num.toString();\n      }\n      console.log(tfinal);\n    \n    */\n  }\n\n  showChart() {\n    const margin = {\n      top: 50,\n      right: 50,\n      bottom: 50,\n      left: 50\n    };\n    var width = 1000 - margin.left - margin.right;\n    var height = 500 - margin.top - margin.bottom;\n    var svg = d3.select(\"#barChart\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n    svg.selectAll(\"*\").remove();\n    var x = d3.scaleBand().range([0, width]);\n    var y = d3.scaleLinear().range([height, 0]);\n    x.domain(this.state.accounts.map(details => details.account));\n    y.domain([0, d3.max(this.state.accounts.map(details => details.balance))]);\n    svg.selectAll(\".bar\").data(this.state.accounts).enter().append(\"rect\").attr(\"class\", \"bar\").attr(\"x\", d => x(d.account)).attr(\"width\", x.bandwidth() - 10).attr(\"y\", d => y(d.balance)).attr(\"height\", d => height - y(d.balance));\n    svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(x));\n    svg.append(\"g\").call(d3.axisLeft(y));\n  }\n\n  generateGraph() {\n    var maxVal = d3.max(this.state.accounts.map(details => Number(details.balance)));\n    console.log(maxVal);\n    var svg = d3.select(\"#visualisation\").append(\"svg\").attr(\"width\", 500).attr(\"height\", 200);\n    svg.selectAll(\"rect\").data(this.state.accounts).enter().append(\"rect\").attr(\"transform\", function (d, i) {\n      return \"translate(\" + 60 + \",\" + i * 25 + \")\";\n    }).attr(\"fill\", \"blue\").attr(\"height\", 20).attr(\"width\", function (d) {\n      return d.balance / maxVal * 500 + \"px\";\n    });\n    svg.selectAll(\"text\").data(this.state.accounts).enter().append(\"text\").attr(\"transform\", function (d, i) {\n      return \"translate(0,\" + Number(i * 25 + 15) + \")\";\n    }).attr(\"fill\", \"red\").text(function (d) {\n      return d.account;\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"App-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: logo,\n      className: \"App-logo\",\n      alt: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"App-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 11\n      }\n    }, \"NUSmoney App+\")), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 9\n      }\n    }, \" Accounts \"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"myTable\",\n      id: \"A\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }\n    }, \"Account Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 9\n      }\n    }, \"Balance\")), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 11\n      }\n    }, this.state.accounts.map(item => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: item.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 17\n        }\n      }, \" \", item.account, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 17\n        }\n      }, \" \", item.balance, \" \"));\n    }))), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 9\n      }\n    }, \" Customers \"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"myTable\",\n      id: \"C\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }\n    }, \"Gender\")), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 11\n      }\n    }, this.state.customers.map(item => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: item.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 19\n        }\n      }, \" \", item.first_name, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 19\n        }\n      }, \" \", item.last_name, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 19\n        }\n      }, \" \", item.email, \"  \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 19\n        }\n      }, \" \", item.gender, \" \"));\n    }))), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 9\n      }\n    }, \" Transactions \"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"myTable\",\n      id: \"T\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 13\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 13\n      }\n    }, \"Category\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 13\n      }\n    }, \"Account Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 13\n      }\n    }, \"Amount Transacted\")), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 11\n      }\n    }, this.state.transactions.map(item => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: item.transaction_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 21\n        }\n      }, \" \", item.timestamp, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 21\n        }\n      }, \" \", item.category, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 21\n        }\n      }, \" \", item.account, \"  \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 21\n        }\n      }, \" \", item.amount, \" \"));\n    }))), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 9\n      }\n    }, \" Credit \"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn\",\n      onClick: () => this.editcreditlist(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 9\n      }\n    }, \"Update\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"myTable\",\n      id: \"T\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 13\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 13\n      }\n    }, \"Category\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 13\n      }\n    }, \"Account Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 13\n      }\n    }, \"Amount Transacted\")), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 11\n      }\n    }, this.state.tcredit.map(item => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: item.transaction_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 21\n        }\n      }, \" \", item.timestamp, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 21\n        }\n      }, \" \", item.category, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 21\n        }\n      }, \" \", item.account, \"  \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 21\n        }\n      }, \" \", item.amount, \" \"));\n    }))), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 9\n      }\n    }, \" Cheque \"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn\",\n      onClick: () => this.editchequelist(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 9\n      }\n    }, \"Update\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"myTable\",\n      id: \"T\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 13\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 13\n      }\n    }, \"Category\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 13\n      }\n    }, \"Account Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 13\n      }\n    }, \"Amount Transacted\")), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 11\n      }\n    }, this.state.tcheque.map(item => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: item.transaction_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 21\n        }\n      }, \" \", item.timestamp, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 21\n        }\n      }, \" \", item.category, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 21\n        }\n      }, \" \", item.account, \"  \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 21\n        }\n      }, \" \", item.amount, \" \"));\n    }))), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 9\n      }\n    }, \" Savings \"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn\",\n      onClick: () => this.editsavingslist(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 9\n      }\n    }, \"Update\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"myTable\",\n      id: \"T\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 13\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 13\n      }\n    }, \"Category\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 13\n      }\n    }, \"Account Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 13\n      }\n    }, \"Amount Transacted\")), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 11\n      }\n    }, this.state.tsavings.map(item => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: item.transaction_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 21\n        }\n      }, \" \", item.timestamp, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 21\n        }\n      }, \" \", item.category, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 21\n        }\n      }, \" \", item.account, \"  \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 21\n        }\n      }, \" \", item.amount, \" \"));\n    }))), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 9\n      }\n    }, \" Visualisation of Accounts\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"visualisation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      id: \"barChart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/FinTech/Dev 1/day2/Final_Assignment/src/App.js"],"names":["React","logo","d3","sortTable","n","table","rows","switching","i","x","y","shouldSwitch","dir","switchcount","document","getElementById","length","getElementsByTagName","innerHTML","toLowerCase","parentNode","insertBefore","App","Component","constructor","props","state","accounts","customers","transactions","tcredit","tcheque","tsavings","fcredit","fsavings","fcheque","callAPIServer","fetch","then","res","text","setState","JSON","parse","catch","err","componentDidMount","componentDidUpdate","forEach","c","balance","replace","b","amount","generateGraph","showChart","editcreditlist","creditlist","updatedlist","Array","item","account","push","newcreditlist","clothing","utilities","recreation","groceries","salary","housing","insurance","num","Number","tfinal","editsavingslist","editchequelist","tabling","count","a","timestamp","category","console","log","margin","top","right","bottom","left","width","height","svg","select","attr","append","selectAll","remove","scaleBand","range","scaleLinear","domain","map","details","max","data","enter","d","bandwidth","call","axisBottom","axisLeft","maxVal","render","id","first_name","last_name","email","gender","transaction_id"],"mappings":"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","sourcesContent":["/* Demo for FinTech@SG Course \nGeneration of Charts Based on JSON data from Server\nAuthor: Prof Bhojan Anand */\n//Install d3.js:   npm install d3 --save\nimport React from \"react\";\nimport logo from \"./brand-logo.png\";\nimport * as d3 from 'd3';\n\nimport \"./App.css\";\n\n\nfunction sortTable(n) {\n  var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;\n  table = document.getElementById(\"myTable\");\n  switching = true;\n  //Set the sorting direction to ascending:\n  dir = \"asc\"; \n  /*Make a loop that will continue until\n  no switching has been done:*/\n  while (switching) {\n    //start by saying: no switching is done:\n    switching = false;\n    rows = table.rows;\n    /*Loop through all table rows (except the\n    first, which contains table headers):*/\n    for (i = 1; i < (rows.length - 1); i++) {\n      //start by saying there should be no switching:\n      shouldSwitch = false;\n      /*Get the two elements you want to compare,\n      one from current row and one from the next:*/\n      x = rows[i].getElementsByTagName(\"TD\")[n];\n      y = rows[i + 1].getElementsByTagName(\"TD\")[n];\n      /*check if the two rows should switch place,\n      based on the direction, asc or desc:*/\n      if (dir == \"asc\") {\n        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {\n          //if so, mark as a switch and break the loop:\n          shouldSwitch= true;\n          break;\n        }\n      } else if (dir == \"desc\") {\n        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {\n          //if so, mark as a switch and break the loop:\n          shouldSwitch = true;\n          break;\n        }\n      }\n    }\n    if (shouldSwitch) {\n      /*If a switch has been marked, make the switch\n      and mark that a switch has been done:*/\n      rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);\n      switching = true;\n      //Each time a switch is done, increase this count by 1:\n      switchcount ++;      \n    } else {\n      /*If no switching has been done AND the direction is \"asc\",\n      set the direction to \"desc\" and run the while loop again.*/\n      if (switchcount == 0 && dir == \"asc\") {\n        dir = \"desc\";\n        switching = true;\n      }\n    }\n  }\n}\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      accounts: [],\n      customers: [],\n      transactions: [],\n      tcredit: [],\n      tcheque: [],\n      tsavings: [],\n      fcredit: [],\n      fsavings: [],\n      fcheque: []\n     }\n \n  }\n\n  callAPIServer() {\n    // when component mounted, start a GET request\n    // to specified URL\n    fetch(\"https://f92c6b35-d121-4c8a-987b-81217155297f.mock.pstmn.io/accounts\")\n      .then(res => res.text())\n      .then(res => this.setState({ accounts: JSON.parse(res) }))\n      .catch(err => err);\n\n    fetch(\"https://f92c6b35-d121-4c8a-987b-81217155297f.mock.pstmn.io/customers\")\n      // when we get a response map the body to json\n      .then(res => res.text())\n      .then(res => this.setState({ customers: JSON.parse(res) }))\n      .catch(err => err);\n\n    fetch(\"https://f92c6b35-d121-4c8a-987b-81217155297f.mock.pstmn.io/transactions\")\n      // when we get a response map the body to json\n      .then(res => res.text())\n      .then(res => this.setState({ transactions: JSON.parse(res) }))\n      .catch(err => err);\n\n    fetch(\"https://f92c6b35-d121-4c8a-987b-81217155297f.mock.pstmn.io/transactions\")\n      // when we get a response map the body to json\n      .then(res => res.text())\n      .then(res => this.setState({ tcredit: JSON.parse(res) }))\n      .catch(err => err);\n\n    fetch(\"https://f92c6b35-d121-4c8a-987b-81217155297f.mock.pstmn.io/transactions\")\n      // when we get a response map the body to json\n      .then(res => res.text())\n      .then(res => this.setState({ tcheque: JSON.parse(res) }))\n      .catch(err => err);\n\n    fetch(\"https://f92c6b35-d121-4c8a-987b-81217155297f.mock.pstmn.io/transactions\")\n      // when we get a response map the body to json\n      .then(res => res.text())\n      .then(res => this.setState({ tsavings: JSON.parse(res) }))\n      .catch(err => err);\n\n    fetch(\"https://f92c6b35-d121-4c8a-987b-81217155297f.mock.pstmn.io/transactions\")\n      // when we get a response map the body to json\n      .then(res => res.text())\n      .then(res => this.setState({ fcredit: JSON.parse(res) }))\n      .catch(err => err);\n\n    fetch(\"https://f92c6b35-d121-4c8a-987b-81217155297f.mock.pstmn.io/transactions\")\n      // when we get a response map the body to json\n      .then(res => res.text())\n      .then(res => this.setState({ fcheque: JSON.parse(res) }))\n      .catch(err => err);\n\n    fetch(\"https://f92c6b35-d121-4c8a-987b-81217155297f.mock.pstmn.io/transactions\")\n      // when we get a response map the body to json\n      .then(res => res.text())\n      .then(res => this.setState({ fsavings: JSON.parse(res) }))\n      .catch(err => err);\n    }\n  \n  componentDidMount() {\n    // react lifecycle method componentDidMount()\n    //will execute the callAPIserver() method after the component mounts.\n    this.callAPIServer();\n  }\n \n\n componentDidUpdate() {\n  \n  /* prepare data */\n  this.state.accounts.forEach(function (c) {\n    c.balance = c.balance.replace(/[^0-9.-]+/g,\"\"); //regular expression to convert currency to Numeric form\n  });\n  \n  this.state.transactions.forEach(function (b) {\n    b.amount = b.amount.replace(/[^0-9.-]+/g,\"\"); //regular expression to convert currency to Numeric form\n  });\n\n  this.state.tcredit.forEach(function (b) {\n    b.amount = b.amount.replace(/[^0-9.-]+/g,\"\"); //regular expression to convert currency to Numeric form\n  });\n  \n  this.state.tcheque.forEach(function (b) {\n    b.amount = b.amount.replace(/[^0-9.-]+/g,\"\"); //regular expression to convert currency to Numeric form\n  });\n\n  this.state.tsavings.forEach(function (b) {\n    b.amount = b.amount.replace(/[^0-9.-]+/g,\"\"); //regular expression to convert currency to Numeric form\n  });\n\n  \n  this.generateGraph();  //based on previous d3.js exampls\n  this.showChart();  //improved version way to chart\n\n}\n\neditcreditlist(){\n  const creditlist = [...this.state.tcredit];\n  const updatedlist = new Array();\n  creditlist.forEach(function(item){\n    if(item.account == \"credit\"){\n      updatedlist.push(item);\n    }\n  });\n  this.setState({tcredit: updatedlist});\n}\n\nnewcreditlist(){\n  const creditlist = [...this.state.tcredit];\n  const updatedlist = [{account: \"credit\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"}];\n  creditlist.forEach(function(item){\n    if(item.account == \"credit\"){\n      updatedlist.push(item);\n    }\n  });\n  this.setState({fcredit: updatedlist});\n\n  for(var i=0; i<tcredit.length ;i++){\n    var num = Number(tfinal[1].tcredit[i][2]) + Number(tcredit[i][3]);\n  }\n}\n\neditsavingslist(){\n  const creditlist = [...this.state.tsavings];\n  const updatedlist = new Array();\n  creditlist.forEach(function(item){\n    if(item.account == \"savings\"){\n      updatedlist.push(item);\n    }\n  });\n  this.setState({tsavings: updatedlist});\n\n}\n\neditchequelist(){\n  const creditlist = [...this.state.tcheque];\n  const updatedlist = new Array();\n  creditlist.forEach(function(item){\n    if(item.account == \"cheque\"){\n      updatedlist.push(item);\n    }\n  });\n  this.setState({tcheque: updatedlist});\n\n}\n\ntabling(){\n\n  var tcredit = [];\n  var count = 0;\n  this.state.transactions.forEach(function(a){\n    if(a.account== \"credit\"){\n      tcredit[count] = new Array(a.timestamp, a.category, a.account, a.amount);\n      count++;\n  }\n  });\n  console.log(tcredit);\n\n  var tsavings = [];\n  var count = 0;\n  this.state.transactions.forEach(function(a){\n    if(a.account== \"savings\"){\n      tsavings[count] = new Array(a.timestamp, a.category, a.account, a.amount);\n      count++;\n  }\n  });\n  console.log(tsavings); \n\n  var tcheque = [];\n  var count = 0;\n  this.state.transactions.forEach(function(a){\n    if(a.account== \"cheque\"){\n      tcheque[count] = new Array(a.timestamp, a.category, a.account, a.amount);\n      count++;\n  }\n  });\n  console.log(tcheque);   \n/*\n  console.log(\"HIHIHIHIHIHIHIH\");\n  console.log(this.state.final);\n\n  //let a = this.state.final.concat({account: \"credit\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"});\n  //a.push({account: \"credit\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"},{account: \"cheque\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"}, {account: \"savings\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"}); \n  this.setState({final: [...this.state.final, ...[1,2,3]]});\n\n  //this.state.final.push({account: \"credit\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"},{account: \"cheque\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"}, {account: \"savings\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"});\n  \n  console.log(\"BYEBYEBYEBYEYBEYBEYBY\");\n  console.log(this.state.final);\n*/\n  \n/*\n  var x = this.state.tcredit[0][3];\n  console.log(\"this is amount spent on housing\" + x);\n\n  \n  var tfinal = [{account: \"cheque\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"}, {account: \"credit\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"}, {account: \"savings\", clothing: \"0\", utilities: \"0\", recreation: \"0\", groceries: \"0\", salary: \"0\", housing: \"0\", insurance: \"0\"}];\n  \n  var a = tcredit[0][3];\n  console.log(a);\n    //console.log(tcredit[0][3]);\n  console.log(Number(tfinal[1].tcredit[0][2]));\n  \n  for(var i=0; i<tcredit.length ;i++){\n    var num = \n    Number(tfinal[1].tcredit[i][2]) \n    + Number(tcredit[i][3]);\n    tfinal[1].tcredit[i][2] = num.toString();\n  }\n  for(var i=0; i<tcheque.length ;i++){\n    var num = Number(tfinal[0].tcheque[i][2]) + tcheque[i][3];\n    tfinal[0].tcheque[i][2] = num.toString();\n  }\n  for(var i=0; i<tsavings.length ;i++){\n    var num = Number(tfinal[2].tsavings[i][2]) + tsavings[i][3];\n    tfinal[2].tsavings[i][2] = num.toString();\n  }\n  console.log(tfinal);\n\n*/\n\n}\n\nshowChart() {\n\n  \n  const margin = { top: 50, right: 50, bottom: 50, left: 50 };\n  var width = 1000 - margin.left - margin.right;\n  var height = 500 - margin.top - margin.bottom;\n  var svg = d3.select(\"#barChart\")\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", height + margin.top + margin.bottom)\n    .append(\"g\")\n    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n  \n  svg.selectAll(\"*\").remove();\n\n  var x = d3.scaleBand().range([0, width]);\n  var y = d3.scaleLinear().range([height, 0]);\n\n  x.domain(this.state.accounts.map(details => details.account));\n  y.domain([0, d3.max(this.state.accounts.map(details => details.balance))]);\n\n\n\n  svg.selectAll(\".bar\")\n    .data(this.state.accounts)\n    .enter()\n    .append(\"rect\")\n    .attr(\"class\", \"bar\")\n    .attr(\"x\", d => x(d.account))\n    .attr(\"width\", x.bandwidth() - 10)\n    .attr(\"y\", d => y(d.balance))\n    .attr(\"height\", d => height - y(d.balance));\n\n  svg.append(\"g\")\n    .attr(\"transform\", \"translate(0,\" + height + \")\")\n    .call(d3.axisBottom(x))\n\n  svg.append(\"g\")\n    .call(d3.axisLeft(y));\n}\n\n  generateGraph() {\n\n    var maxVal = d3.max(this.state.accounts.map(details => Number(details.balance)));\n    console.log(maxVal);\n    var svg = d3\n      .select(\"#visualisation\")\n      .append(\"svg\")\n      .attr(\"width\", 500)\n      .attr(\"height\", 200);\n\n    svg\n      .selectAll(\"rect\")\n      .data(this.state.accounts)\n      .enter()\n      .append(\"rect\")\n      .attr(\"transform\", function (d, i) {\n        return \"translate(\" + 60 + \",\" + i * 25 + \")\";\n      })\n      .attr(\"fill\", \"blue\")\n      .attr(\"height\", 20)\n      .attr(\"width\", function (d) {\n        return d.balance /maxVal * 500 + \"px\";\n      });\n      \n    svg\n      .selectAll(\"text\")\n      .data(this.state.accounts)\n      .enter()\n      .append(\"text\")\n      .attr(\"transform\", function (d, i) {\n        return \"translate(0,\" + Number(i * 25 + 15) + \")\";\n      })\n      .attr(\"fill\", \"red\")\n      .text(function (d) {\n        return d.account;\n      });\n      \n  \n} \n\n\n  render() {\n\n\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <h1 className=\"App-title\">NUSmoney App+</h1>\n        </header>\n\n        <h2> Accounts </h2>\n        <table className=\"myTable\"  id=\"A\">\n        <tr>\n        <th  >Account Type</th>\n        <th   >Balance</th>\n      </tr>\n          <tbody>\n          {this.state.accounts.map((item) => {\n            return (\n              <tr key={item.id}>\n                <td> {item.account} </td>\n                <td> {item.balance} </td>\n              </tr>\n            );\n          })}\n          </tbody>\n        </table>\n\n\n        <h2> Customers </h2>    \n        <table className=\"myTable\"  id=\"C\">\n        <tr>\n        <th >First Name</th>\n        <th >Last Name</th>\n        <th >Email</th>\n        <th >Gender</th>\n      </tr>\n          <tbody>\n          {this.state.customers.map((item) => {\n            return (\n              <tr key={item.id}>\n                  <td> {item.first_name} </td>\n                  <td> {item.last_name} </td>\n                  <td> {item.email}  </td>\n                  <td> {item.gender} </td>\n              </tr>\n            );\n          })}\n          </tbody>\n        </table>\n\n        <h2> Transactions </h2>\n        <table className=\"myTable\" id=\"T\">\n          <tr>\n            <th >Date</th>\n            <th >Category</th>\n            <th >Account Type</th>\n            <th >Amount Transacted</th>\n          </tr>\n          <tbody>\n            {this.state.transactions.map((item) => {\n              return (\n                <tr key={item.transaction_id}>\n                    <td> {item.timestamp} </td>\n                    <td> {item.category} </td>\n                    <td> {item.account}  </td>\n                    <td> {item.amount} </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n\n        \n        <h2> Credit </h2>\n        <button className=\"btn\"\n                onClick={() => this.editcreditlist()}>\n                      Update\n        </button>\n        <table className=\"myTable\" id=\"T\">\n          <tr>\n            <th >Date</th>\n            <th >Category</th>\n            <th >Account Type</th>\n            <th >Amount Transacted</th>\n          </tr>\n          <tbody>\n            {this.state.tcredit.map((item) => {\n              return (\n                <tr key={item.transaction_id}>\n                    <td> {item.timestamp} </td>\n                    <td> {item.category} </td>\n                    <td> {item.account}  </td>\n                    <td> {item.amount} </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n\n        <h2> Cheque </h2>\n        <button className=\"btn\"\n                onClick={() => this.editchequelist()}>\n                      Update\n        </button>\n        <table className=\"myTable\" id=\"T\">\n          <tr>\n            <th >Date</th>\n            <th >Category</th>\n            <th >Account Type</th>\n            <th >Amount Transacted</th>\n          </tr>\n          <tbody>\n            {this.state.tcheque.map((item) => {\n              return (\n                <tr key={item.transaction_id}>\n                    <td> {item.timestamp} </td>\n                    <td> {item.category} </td>\n                    <td> {item.account}  </td>\n                    <td> {item.amount} </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n\n        <h2> Savings </h2>\n        <button className=\"btn\"\n                onClick={() => this.editsavingslist()}>\n                      Update\n        </button>\n        <table className=\"myTable\" id=\"T\">\n          <tr>\n            <th >Date</th>\n            <th >Category</th>\n            <th >Account Type</th>\n            <th >Amount Transacted</th>\n          </tr>\n          <tbody>\n            {this.state.tsavings.map((item) => {\n              return (\n                <tr key={item.transaction_id}>\n                    <td> {item.timestamp} </td>\n                    <td> {item.category} </td>\n                    <td> {item.account}  </td>\n                    <td> {item.amount} </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n\n\n        <h2> Visualisation of Accounts</h2>\n        <div id=\"visualisation\">\n            <svg id=\"barChart\"></svg>\n          </div>\n      </div>\n\n\n    );\n  }\n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}